<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MARLEY (Model of Argon Reaction Low Energy Yields): marley::FileManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/SVG"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="marley_diagram.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MARLEY (Model of Argon Reaction Low Energy Yields)
   &#160;<span id="projectnumber">v1.2.0</span>
   </div>
   <div id="projectbrief">A Monte Carlo event generator for tens-of-MeV neutrino interactions</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>marley</b></li><li class="navelem"><a class="el" href="classmarley_1_1_file_manager.html">FileManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="classmarley_1_1_file_manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">marley::FileManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Singleton class that handles file searches.  
 <a href="classmarley_1_1_file_manager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_file_manager_8hh_source.html">FileManager.hh</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a80e63a924de1354706095dc2f19295a5"><td class="memItemLeft" align="right" valign="top"><a id="a80e63a924de1354706095dc2f19295a5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmarley_1_1_file_manager.html#a80e63a924de1354706095dc2f19295a5">FileManager</a> (const <a class="el" href="classmarley_1_1_file_manager.html">FileManager</a> &amp;)=delete</td></tr>
<tr class="memdesc:a80e63a924de1354706095dc2f19295a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deleted copy constructor. <br /></td></tr>
<tr class="separator:a80e63a924de1354706095dc2f19295a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72a73fb279810e26fe305137bfd7fdbd"><td class="memItemLeft" align="right" valign="top"><a id="a72a73fb279810e26fe305137bfd7fdbd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmarley_1_1_file_manager.html#a72a73fb279810e26fe305137bfd7fdbd">FileManager</a> (<a class="el" href="classmarley_1_1_file_manager.html">FileManager</a> &amp;&amp;)=delete</td></tr>
<tr class="memdesc:a72a73fb279810e26fe305137bfd7fdbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deleted move constructor. <br /></td></tr>
<tr class="separator:a72a73fb279810e26fe305137bfd7fdbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1de8939afba53a8da7c751398e257b2"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmarley_1_1_file_manager.html#af1de8939afba53a8da7c751398e257b2">find_file</a> (const std::string &amp;base_name, const std::string &amp;search_path=<a class="el" href="classmarley_1_1_file_manager.html#a79b5e89ec017953b53c3a8fb4741207a">marley::FileManager::default_search_path_</a>) const</td></tr>
<tr class="memdesc:af1de8939afba53a8da7c751398e257b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for a file in the given search path.  <a href="classmarley_1_1_file_manager.html#af1de8939afba53a8da7c751398e257b2">More...</a><br /></td></tr>
<tr class="separator:af1de8939afba53a8da7c751398e257b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb45397b1f4aa865e16bd97ace8bbd5b"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmarley_1_1_file_manager.html#afb45397b1f4aa865e16bd97ace8bbd5b">find_file</a> (const std::string &amp;base_name, const std::vector&lt; std::string &gt; &amp;search_dirs) const</td></tr>
<tr class="memdesc:afb45397b1f4aa865e16bd97ace8bbd5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for a file in the given directories.  <a href="classmarley_1_1_file_manager.html#afb45397b1f4aa865e16bd97ace8bbd5b">More...</a><br /></td></tr>
<tr class="separator:afb45397b1f4aa865e16bd97ace8bbd5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace5f8e7632f7db4b5db77ee51cbf0403"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmarley_1_1_file_manager.html#ace5f8e7632f7db4b5db77ee51cbf0403">list_all_files</a> (const std::string &amp;search_path=<a class="el" href="classmarley_1_1_file_manager.html#a79b5e89ec017953b53c3a8fb4741207a">FileManager::default_search_path_</a>) const</td></tr>
<tr class="memdesc:ace5f8e7632f7db4b5db77ee51cbf0403"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a vector of full paths for all regular files in the requested search path.  <a href="classmarley_1_1_file_manager.html#ace5f8e7632f7db4b5db77ee51cbf0403">More...</a><br /></td></tr>
<tr class="separator:ace5f8e7632f7db4b5db77ee51cbf0403"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dfee284fd4523a923199ce162521349"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmarley_1_1_file_manager.html#a6dfee284fd4523a923199ce162521349">list_all_files</a> (const std::vector&lt; std::string &gt; &amp;search_dirs) const</td></tr>
<tr class="memdesc:a6dfee284fd4523a923199ce162521349"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a vector of full paths for all regular files in the requested directories.  <a href="classmarley_1_1_file_manager.html#a6dfee284fd4523a923199ce162521349">More...</a><br /></td></tr>
<tr class="separator:a6dfee284fd4523a923199ce162521349"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28e314a243335c73ecfcc8028e59db9f"><td class="memItemLeft" align="right" valign="top"><a id="a28e314a243335c73ecfcc8028e59db9f"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmarley_1_1_file_manager.html#a28e314a243335c73ecfcc8028e59db9f">marley_dir</a> () const</td></tr>
<tr class="memdesc:a28e314a243335c73ecfcc8028e59db9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the path to the root MARLEY folder. <br /></td></tr>
<tr class="separator:a28e314a243335c73ecfcc8028e59db9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af43ca1256e003824e1ec08a15b13f422"><td class="memItemLeft" align="right" valign="top"><a id="af43ca1256e003824e1ec08a15b13f422"></a>
<a class="el" href="classmarley_1_1_file_manager.html">FileManager</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmarley_1_1_file_manager.html#af43ca1256e003824e1ec08a15b13f422">operator=</a> (const <a class="el" href="classmarley_1_1_file_manager.html">FileManager</a> &amp;)=delete</td></tr>
<tr class="memdesc:af43ca1256e003824e1ec08a15b13f422"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deleted copy assignment operator. <br /></td></tr>
<tr class="separator:af43ca1256e003824e1ec08a15b13f422"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accab6cc093d9a9f49bab45e2c1afa5a8"><td class="memItemLeft" align="right" valign="top"><a id="accab6cc093d9a9f49bab45e2c1afa5a8"></a>
<a class="el" href="classmarley_1_1_file_manager.html">FileManager</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmarley_1_1_file_manager.html#accab6cc093d9a9f49bab45e2c1afa5a8">operator=</a> (<a class="el" href="classmarley_1_1_file_manager.html">FileManager</a> &amp;&amp;)=delete</td></tr>
<tr class="memdesc:accab6cc093d9a9f49bab45e2c1afa5a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deleted move assignment operator. <br /></td></tr>
<tr class="separator:accab6cc093d9a9f49bab45e2c1afa5a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:adc1c1584b14d6cacb8f0a17175146852"><td class="memItemLeft" align="right" valign="top"><a id="adc1c1584b14d6cacb8f0a17175146852"></a>
static const <a class="el" href="classmarley_1_1_file_manager.html">FileManager</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmarley_1_1_file_manager.html#adc1c1584b14d6cacb8f0a17175146852">Instance</a> ()</td></tr>
<tr class="memdesc:adc1c1584b14d6cacb8f0a17175146852"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a const reference to the singleton instance of the <a class="el" href="classmarley_1_1_file_manager.html" title="Singleton class that handles file searches.">FileManager</a>. <br /></td></tr>
<tr class="separator:adc1c1584b14d6cacb8f0a17175146852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97e10f3ccceabe425a57a40b85ea4a33"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmarley_1_1_file_manager.html#a97e10f3ccceabe425a57a40b85ea4a33">search_path_to_dir_vector</a> (const std::string &amp;search_path=<a class="el" href="classmarley_1_1_file_manager.html#a79b5e89ec017953b53c3a8fb4741207a">FileManager::default_search_path_</a>)</td></tr>
<tr class="memdesc:a97e10f3ccceabe425a57a40b85ea4a33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a ':'-delimited search path (given as a single string) into a vector of directory names.  <a href="classmarley_1_1_file_manager.html#a97e10f3ccceabe425a57a40b85ea4a33">More...</a><br /></td></tr>
<tr class="separator:a97e10f3ccceabe425a57a40b85ea4a33"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a502cb3fc733d1e12f77479e8d4ebb5a0"><td class="memItemLeft" align="right" valign="top"><a id="a502cb3fc733d1e12f77479e8d4ebb5a0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmarley_1_1_file_manager.html#a502cb3fc733d1e12f77479e8d4ebb5a0">FileManager</a> ()</td></tr>
<tr class="memdesc:a502cb3fc733d1e12f77479e8d4ebb5a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the singleton <a class="el" href="classmarley_1_1_file_manager.html" title="Singleton class that handles file searches.">FileManager</a> object. <br /></td></tr>
<tr class="separator:a502cb3fc733d1e12f77479e8d4ebb5a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:aab2959704de855182ff024e4dbe1c4b8"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmarley_1_1_file_manager.html#aab2959704de855182ff024e4dbe1c4b8">dir_iterate</a> (const std::string &amp;dir_name, const std::function&lt; bool(const std::string &amp;, const std::string &amp;)&gt; &amp;func)</td></tr>
<tr class="memdesc:aab2959704de855182ff024e4dbe1c4b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function that executes a std::function on the name of each regular file found while scanning through a single directory (non-recursively)  <a href="classmarley_1_1_file_manager.html#aab2959704de855182ff024e4dbe1c4b8">More...</a><br /></td></tr>
<tr class="separator:aab2959704de855182ff024e4dbe1c4b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a4baeafb219dc94a3193bedc9ba14cb34"><td class="memItemLeft" align="right" valign="top"><a id="a4baeafb219dc94a3193bedc9ba14cb34"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmarley_1_1_file_manager.html#a4baeafb219dc94a3193bedc9ba14cb34">marley_dir_</a></td></tr>
<tr class="memdesc:a4baeafb219dc94a3193bedc9ba14cb34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the value of the MARLEY environment variable (which points to the root folder of the source code distribution) <br /></td></tr>
<tr class="separator:a4baeafb219dc94a3193bedc9ba14cb34"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a79b5e89ec017953b53c3a8fb4741207a"><td class="memItemLeft" align="right" valign="top"><a id="a79b5e89ec017953b53c3a8fb4741207a"></a>
static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmarley_1_1_file_manager.html#a79b5e89ec017953b53c3a8fb4741207a">default_search_path_</a></td></tr>
<tr class="memdesc:a79b5e89ec017953b53c3a8fb4741207a"><td class="mdescLeft">&#160;</td><td class="mdescRight">By default, use this search path when looking for files. <br /></td></tr>
<tr class="separator:a79b5e89ec017953b53c3a8fb4741207a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Singleton class that handles file searches. </p>

<p class="definition">Definition at line <a class="el" href="_file_manager_8hh_source.html#l00025">25</a> of file <a class="el" href="_file_manager_8hh_source.html">FileManager.hh</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aab2959704de855182ff024e4dbe1c4b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab2959704de855182ff024e4dbe1c4b8">&#9670;&nbsp;</a></span>dir_iterate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool marley::FileManager::dir_iterate </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>dir_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; bool(const std::string &amp;, const std::string &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function that executes a std::function on the name of each regular file found while scanning through a single directory (non-recursively) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dir_name</td><td>The name of the directory to be scanned </td></tr>
    <tr><td class="paramname">func</td><td>The function to execute. The first argument is the full file name (including the path). The second is the base name of the file (no path). The return value should be true if no further iterations are needed (e.g., because a file matching a desired name was found) and false otherwise. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the iterations were stopped early (due to function returning true) or false if they were completed </dd></dl>

<p class="definition">Definition at line <a class="el" href="_file_manager_8cc_source.html#l00173">173</a> of file <a class="el" href="_file_manager_8cc_source.html">FileManager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;{</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="comment">// Open the directory for reading</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  DIR* directory = opendir( dir_name.c_str() );</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordflow">if</span> ( !directory ) {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    MARLEY_LOG_WARNING() &lt;&lt; <span class="stringliteral">&quot;Could not read from the directory \&quot;&quot;</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      &lt;&lt; dir_name &lt;&lt; <span class="charliteral">&#39;\&quot;&#39;</span>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="comment">// Loop through the files in the directory one by one</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  dirent* file = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordtype">bool</span> stop_iterations = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keywordflow">while</span> ( file = readdir(directory), !stop_iterations &amp;&amp; file ) {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="comment">// Get information about the current file using the stat() function</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keyword">struct </span>stat file_stat;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    std::string base_name = file-&gt;d_name;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    std::string full_file_name = dir_name + <span class="charliteral">&#39;/&#39;</span> + base_name;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    MARLEY_LOG_DEBUG() &lt;&lt; <span class="stringliteral">&quot;marley::FileManager found file \&quot;&quot;</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      &lt;&lt; full_file_name &lt;&lt; <span class="charliteral">&#39;\&quot;&#39;</span>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">// If we had a problem, complain and try the next file</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">if</span> ( stat(full_file_name.c_str(), &amp;file_stat) ) {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      MARLEY_LOG_DEBUG() &lt;&lt; <span class="stringliteral">&quot;Couldn&#39;t stat the file \&quot;&quot;</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        &lt;&lt; full_file_name &lt;&lt; <span class="charliteral">&#39;\&quot;&#39;</span>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">// If the file is a regular file (as opposed to, e.g., a subdirectory),</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">// then call the function with it as an argument</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">if</span> ( file_stat.st_mode &amp; S_IFREG ) {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      stop_iterations = func( full_file_name, base_name );</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  closedir( directory );</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">return</span> stop_iterations;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af1de8939afba53a8da7c751398e257b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1de8939afba53a8da7c751398e257b2">&#9670;&nbsp;</a></span>find_file() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string marley::FileManager::find_file </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>base_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>search_path</em> = <code><a class="el" href="classmarley_1_1_file_manager.html#a79b5e89ec017953b53c3a8fb4741207a">marley::FileManager::default_search_path_</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches for a file in the given search path. </p>
<p>The search is non-recursive, i.e., no subdirectories are included in the search </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base_name</td><td>The base name (file name without any path) of the desired file </td></tr>
    <tr><td class="paramname">search_path</td><td>A string containing a ':'-delimited list of directories that should be searched for the file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The full path to the file, or an empty string if no match could be found </dd></dl>

<p class="definition">Definition at line <a class="el" href="_file_manager_8cc_source.html#l00095">95</a> of file <a class="el" href="_file_manager_8cc_source.html">FileManager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;{</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keyword">auto</span> search_dirs = <a class="code" href="classmarley_1_1_file_manager.html#a97e10f3ccceabe425a57a40b85ea4a33">search_path_to_dir_vector</a>( search_path );</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classmarley_1_1_file_manager.html#afb45397b1f4aa865e16bd97ace8bbd5b">find_file</a>(base_name, search_dirs);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div>
<div class="ttc" id="aclassmarley_1_1_file_manager_html_a97e10f3ccceabe425a57a40b85ea4a33"><div class="ttname"><a href="classmarley_1_1_file_manager.html#a97e10f3ccceabe425a57a40b85ea4a33">marley::FileManager::search_path_to_dir_vector</a></div><div class="ttdeci">static std::vector&lt; std::string &gt; search_path_to_dir_vector(const std::string &amp;search_path=FileManager::default_search_path_)</div><div class="ttdoc">Converts a ':'-delimited search path (given as a single string) into a vector of directory names.</div><div class="ttdef"><b>Definition:</b> <a href="_file_manager_8cc_source.html#l00087">FileManager.cc:87</a></div></div>
<div class="ttc" id="aclassmarley_1_1_file_manager_html_afb45397b1f4aa865e16bd97ace8bbd5b"><div class="ttname"><a href="classmarley_1_1_file_manager.html#afb45397b1f4aa865e16bd97ace8bbd5b">marley::FileManager::find_file</a></div><div class="ttdeci">std::string find_file(const std::string &amp;base_name, const std::vector&lt; std::string &gt; &amp;search_dirs) const</div><div class="ttdoc">Searches for a file in the given directories.</div><div class="ttdef"><b>Definition:</b> <a href="_file_manager_8cc_source.html#l00102">FileManager.cc:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afb45397b1f4aa865e16bd97ace8bbd5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb45397b1f4aa865e16bd97ace8bbd5b">&#9670;&nbsp;</a></span>find_file() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string marley::FileManager::find_file </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>base_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>search_dirs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches for a file in the given directories. </p>
<p>The search is non-recursive, i.e., no subdirectories are included in the search </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base_name</td><td>The base name (file name without any path) of the desired file </td></tr>
    <tr><td class="paramname">search_dirs</td><td>A vector of strings specifying the directories that should be searched for the file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The full path to the file, or an empty string if no match could be found </dd></dl>

<p class="definition">Definition at line <a class="el" href="_file_manager_8cc_source.html#l00102">102</a> of file <a class="el" href="_file_manager_8cc_source.html">FileManager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;{</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  std::string full_path_to_file;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="comment">// First check if we can find the file just using base_name. We can</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="comment">// avoid the search if it&#39;s already accessible (e.g., because the</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="comment">// full path was supplied instead of the base name)</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordflow">if</span> ( file_exists(base_name) ) <span class="keywordflow">return</span> base_name;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="comment">// Search the directories in the order listed. In each directory,</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="comment">// compare all regular file names to the given base name. If a match</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="comment">// is found, stop the search and store the result in full_path_to_file.</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="comment">// If no match is found, full_path_to_file will remain empty.</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; dir : search_dirs) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordtype">bool</span> file_found = <a class="code" href="classmarley_1_1_file_manager.html#aab2959704de855182ff024e4dbe1c4b8">dir_iterate</a>(dir,</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      [&amp;full_path_to_file, &amp;base_name](<span class="keyword">const</span> std::string&amp; other_full_path,</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keyword">const</span> std::string&amp; other_base_name) -&gt; <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keywordflow">if</span> ( base_name == other_base_name ) {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;          <span class="comment">// We&#39;ve found the desired file, so store its full path</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;          full_path_to_file = other_full_path;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;          <span class="comment">// Signal that we don&#39;t need to continue the search any longer</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    );</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">if</span> ( file_found ) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordflow">return</span> full_path_to_file;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div>
<div class="ttc" id="aclassmarley_1_1_file_manager_html_aab2959704de855182ff024e4dbe1c4b8"><div class="ttname"><a href="classmarley_1_1_file_manager.html#aab2959704de855182ff024e4dbe1c4b8">marley::FileManager::dir_iterate</a></div><div class="ttdeci">static bool dir_iterate(const std::string &amp;dir_name, const std::function&lt; bool(const std::string &amp;, const std::string &amp;)&gt; &amp;func)</div><div class="ttdoc">Helper function that executes a std::function on the name of each regular file found while scanning t...</div><div class="ttdef"><b>Definition:</b> <a href="_file_manager_8cc_source.html#l00173">FileManager.cc:173</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ace5f8e7632f7db4b5db77ee51cbf0403"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace5f8e7632f7db4b5db77ee51cbf0403">&#9670;&nbsp;</a></span>list_all_files() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; marley::FileManager::list_all_files </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>search_path</em> = <code><a class="el" href="classmarley_1_1_file_manager.html#a79b5e89ec017953b53c3a8fb4741207a">FileManager::default_search_path_</a></code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a vector of full paths for all regular files in the requested search path. </p>
<p>Files in subdirectories are not included (the search is non-recursive) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">search_path</td><td>A string containing a ':'-delimited list of directories that should be scanned for files </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector of strings giving the full path to each regular file that was found </dd></dl>

<p class="definition">Definition at line <a class="el" href="_file_manager_8cc_source.html#l00137">137</a> of file <a class="el" href="_file_manager_8cc_source.html">FileManager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;{</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keyword">auto</span> search_dirs = <a class="code" href="classmarley_1_1_file_manager.html#a97e10f3ccceabe425a57a40b85ea4a33">search_path_to_dir_vector</a>( search_path );</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classmarley_1_1_file_manager.html#a6dfee284fd4523a923199ce162521349">list_all_files</a>( search_dirs );</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div>
<div class="ttc" id="aclassmarley_1_1_file_manager_html_a6dfee284fd4523a923199ce162521349"><div class="ttname"><a href="classmarley_1_1_file_manager.html#a6dfee284fd4523a923199ce162521349">marley::FileManager::list_all_files</a></div><div class="ttdeci">std::vector&lt; std::string &gt; list_all_files(const std::vector&lt; std::string &gt; &amp;search_dirs) const</div><div class="ttdoc">Get a vector of full paths for all regular files in the requested directories.</div><div class="ttdef"><b>Definition:</b> <a href="_file_manager_8cc_source.html#l00146">FileManager.cc:146</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6dfee284fd4523a923199ce162521349"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dfee284fd4523a923199ce162521349">&#9670;&nbsp;</a></span>list_all_files() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; marley::FileManager::list_all_files </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>search_dirs</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a vector of full paths for all regular files in the requested directories. </p>
<p>Files in subdirectories are not included (the search is non-recursive) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">search_dirs</td><td>A vector of strings specifying the directories that should be scanned </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector of strings giving the full path to each regular file that was found </dd></dl>

<p class="definition">Definition at line <a class="el" href="_file_manager_8cc_source.html#l00146">146</a> of file <a class="el" href="_file_manager_8cc_source.html">FileManager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;{</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  std::vector&lt;std::string&gt; result;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; dir : search_dirs) {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="classmarley_1_1_file_manager.html#aab2959704de855182ff024e4dbe1c4b8">dir_iterate</a>(dir,</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      [&amp;result](<span class="keyword">const</span> std::string&amp; full_path,</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keyword">const</span> std::string&amp; <span class="comment">/*base_name*/</span>) -&gt; <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="comment">// Add the current file to the vector of full paths</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        result.push_back( full_path );</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="comment">// Signal that the directory scan should continue</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    );</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a97e10f3ccceabe425a57a40b85ea4a33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97e10f3ccceabe425a57a40b85ea4a33">&#9670;&nbsp;</a></span>search_path_to_dir_vector()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; marley::FileManager::search_path_to_dir_vector </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>search_path</em> = <code><a class="el" href="classmarley_1_1_file_manager.html#a79b5e89ec017953b53c3a8fb4741207a">FileManager::default_search_path_</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts a ':'-delimited search path (given as a single string) into a vector of directory names. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">search_path</td><td>The search path to convert that should be searched for the file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector of directory names corresponding to those given in the search path </dd></dl>

<p class="definition">Definition at line <a class="el" href="_file_manager_8cc_source.html#l00087">87</a> of file <a class="el" href="_file_manager_8cc_source.html">FileManager.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;{</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  std::vector&lt;std::string&gt; dir_names</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    = marley_utils::split_string(search_path, SEARCH_PATH_DELIMITER);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordflow">return</span> dir_names;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/Users/gardiner/fooey/include/marley/<a class="el" href="_file_manager_8hh_source.html">FileManager.hh</a></li>
<li>/Users/gardiner/fooey/src/<a class="el" href="_file_manager_8cc_source.html">FileManager.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
